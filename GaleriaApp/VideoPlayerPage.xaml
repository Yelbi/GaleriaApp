<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="GaleriaApp.VideoPlayerPage"
             BackgroundColor="Black">
    <Grid RowDefinitions="*,Auto">
        <!-- Reproductor de video -->
        <toolkit:MediaElement x:Name="VideoPlayer"
                              Grid.Row="0"
                              ShouldAutoPlay="True"
                              ShouldShowPlaybackControls="True"
                              Aspect="AspectFit"
                              MediaOpened="OnMediaOpened"
                              MediaEnded="OnMediaEnded"
                              MediaFailed="OnMediaFailed"
                              PositionChanged="OnPositionChanged" />
        <!-- Controles básicos -->
        <VerticalStackLayout Grid.Row="1"
                             Padding="15"
                             BackgroundColor="#50000000"
                             Spacing="10">
            <!-- Barra de progreso -->
            <Grid ColumnDefinitions="Auto,*,Auto">
                <Label x:Name="CurrentTimeLabel"
                       Grid.Column="0"
                       Text="00:00"
                       TextColor="White" />
                <Slider x:Name="ProgressSlider"
                        Grid.Column="1"
                        Maximum="1"
                        Value="0"
                        ValueChanged="OnSliderValueChanged" />
                <Label x:Name="TotalTimeLabel"
                       Grid.Column="2"
                       Text="00:00"
                       TextColor="White" />
            </Grid>
            <!-- Botones básicos -->
            <HorizontalStackLayout HorizontalOptions="Center"
                                   Spacing="20">
                <Button x:Name="RewindButton"
                        Text="Retroceder"
                        Clicked="OnRewindClicked"
                        BackgroundColor="#512BD4"
                        TextColor="White" />
                <Button x:Name="PlayPauseButton"
                        Text="Pausa"
                        Clicked="OnPlayPauseClicked"
                        BackgroundColor="#512BD4"
                        TextColor="White" />
                <Button x:Name="ForwardButton"
                        Text="Avanzar"
                        Clicked="OnForwardClicked"
                        BackgroundColor="#512BD4"
                        TextColor="White" />
            </HorizontalStackLayout>
            <!-- Botones adicionales -->
            <HorizontalStackLayout HorizontalOptions="Center"
                                   Spacing="15"
                                   Margin="0,10,0,0">
                <Button Text="Compartir"
                        Clicked="OnShareClicked"
                        BackgroundColor="#512BD4"
                        TextColor="White" />
                <Button Text="Pantalla Completa"
                        Clicked="OnFullScreenClicked"
                        BackgroundColor="#512BD4"
                        TextColor="White" />
                <Button Text="Eliminar"
                        Clicked="OnDeleteClicked"
                        BackgroundColor="Red"
                        TextColor="White" />
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </Grid>
</ContentPage>